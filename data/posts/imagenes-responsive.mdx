---
title: "C칩mo hacer que tus im치genes sean Responsive"
date: "2015-10-21"
tags:
  - "游눹 Desarrollo"
---

Actualmente tenemos gran variedad de dispositivos desde los que accedemos a internet. Smartphones, tablets, laptops, desktops, televisores, incluso relojes.

Todos ellos tienen un **tama침o de pantalla diferente y tambi칠n una resoluci칩n diferente**. Una imagen en un smartphone puede verse muy n칤tida, pero ese mismo archivo en un monitor de alta resoluci칩n se ver치 pixelada.

![Tipos de dispositivos y resoluciones](/images/imagenes-responsive/resoluciones-y-tamanos-de-pantalla-responsive.png)

Lo ideal ser칤a tener la misma imagen pero en varios tama침os y que el navegador eligiese cual presentar en cada momento.

쮼s esto posible?

## Atributo SRCSET al rescate!

`srcset` es un atributo dentro del elemento `img` que nos permite justo eso, tener varias im치genes a distintas resoluciones, y el navegador, en funci칩n del tama침o o la resoluci칩n, mostrar치 una u otra.

### Ejemplo de imagen

Para mostrar una imagen hemos hecho 6 copias de ella, cada una con un tama침o diferente.

- `img-mobile.jpg`
- `img-mobileHD.jpg`
- `img-tablet.jpg`
- `img-tabletHD.jpg`
- `img-large.jpg`
- `img-largeHD.jpg`

Y queremos que cada una se muestre en un determinado momento.

Si aplicamos el patr칩n **Mobile First**, lo ideal es que la primera imagen o la imagen por defecto sea la de menor resoluci칩n posible. As칤 los dispositivos m칩viles (con menor velocidad de conexi칩n que en un entorno desktop) puedan cargar la imagen m치s r치pido.

Para conseguir esto, en el atributo `src` de `img` colocamos la imagen de menor resoluci칩n: `img-mobile.jpg`.

```javascript
<img src="img-mobile.jpg" />
```

Tenemos otra imagen, `img-mobileHD.jpg` con el doble de resoluci칩n para si nos encontramos en un smartphone con pantalla retina. Para que el navegador cargue esta imagen la colocamos dentro del atributo `srcset` indic치ndole el par치metro `2x` lo que hace que el navegador entienda que se renderice esta imagen para una pantalla con doble resoluci칩n.

```javascript
<img src="img-mobile.jpg" srcset="img-mobileHD.jpg 2x" />
```

El resto de im치genes, para tablets y pantallas grandes, se colocan dentro del atributo `srcset` separadas por comas.

Por ejemplo, para una tablet sin pantalla retina queremos que se muestre si la pantalla del dispositivo es mayor de 768 p칤xeles, en este caso le a침adimos el par치metro `768w`.

```javascript
<img src="img-mobile.jpg" srcset="img-mobileHD.jpg 2x, img-tablet.jpg 768w" />
```

Si tenemos una imagen optimizada para tablets con pantalla retina, `img-tabletHD.jpg`, debemos incluir la medida en p칤xeles y tambien el patr칩n de resoluci칩n `2x`. Algo tal que as칤:

```javascript
<img
  src="img-mobile.jpg"
  srcset="img-mobileHD.jpg 2x, 
             img-tablet.jpg 768w, 
             img-tabletHD.jpg 768w 2x"
/>
```

Recuerda, siempre separadas por comas.

El HTML final con las 6 im치genes ser칤a as칤:

```javascript
<img
  src="img-mobile.jpg"
  srcset="img-mobileHD.jpg 2x, 
             img-tablet.jpg 768w, 
             img-tabletHD.jpg 768w 2x, 
             img-large.jpg 1200w, 
             img-largeHD.jpg 1200w 2x"
/>
```

## Pero 쯇uedo usar esto actualmente?

Claro que si. Si vamos a la web [CanIUse](http://caniuse.com/#search=srcset) vemos que la mayor칤a de los navegadores lo implementan. Por tanto no hay excusas.

Adem치s a unas malas, el elemento `<img>` tiene el atributo `src` que por defecto nos mostrar치 esa imagen si no entiende el `srcset`.

## 쮺u치l es el mejor tipo de fichero para mis im치genes web?

Vale, ya podemos utilizar varios tama침os y resoluciones de im치genes para hacer nuestra web m치s _Responsive_.

Pero si trabajamos un poco m치s, podemos lograr una **optimizaci칩n mayor s칩lo por elegir el tipo de fichero adecuado**.

Tenemos dos tipos de im치genes que podemos utilizar

- Im치genes vectoriales
- Im치genes rasterizadas

Las **im치genes vectoriales** son las ideales para los logos, fuentes de iconos y sobre todo formas con colores planos. El formato m치s com칰n para estos archivos es el `.SVG` de _Scalable Vector Graphics_. Al ser construidos vectorialmente en lugar de con p칤xeles, pueden escalar a m칰ltiples formatos sin perder calidad.

Las **im치genes rasterizadas** son las ya conocidas por todos. Son las im치genes que podemos hacer con una c치mara de fotos. Al contrario que las vectorizadas, si escalamos una imagen de un tama침o peque침o a otro m치s grande, perderemos calidad y la veremos _pixelada_.

Podemos seguir la siguiente gu칤a descrita por [Google Developers](https://developers.google.com/web/fundamentals/design-and-ui/media/images/optimize-images-for-performance?hl=en)

- **JPG** para las fotograf칤as. Cuando una imagen tiene muchos colores, es la mejor opci칩n.

- **SVG** cuando tengamos un logo o im치genes muy lineales y con colores s칩lidos (Sin gradientes). Si no podemos usar SVG, podemos usar PNG o WebP

- **PNG** siempre mejor que **GIF**. Ofrece m치s colores y mejor ratio de compresi칩n.

- **Video** para animaciones complejas. Mucho mejor que un GIF, mejor calidad de imagen.

## Reducir el tama침o de fichero.

Aunque usemos un sistema de compresi칩n como JPG o PNG, siempre hay unos _kilobytes_ de m치s que programas como Photoshop no terminan de comprimir eficientemente.

Ante esto, podemos usar algunas herramientas, tanto instalables como online, que nos permiten comprimir a칰n m치s las im치genes sin perder calidad.

Yo en particular utilizo Gulp y un [plugin](https://www.npmjs.com/package/gulp-image-optimization) para automatizar este proceso. En mis **Gulpfile** suelo tener una tarea como la siguiente:

```javascript
var gulp = require('gulp');
var imageop = require('gulp-image-optimization');
var imageFiles = [
  './src/images/*.jpg',
  './src/images/*.jpeg,
  './src/images/*.png,
  './src/images/*.gif
];

gulp.task('images', function() {
  gulp.src(imageFiles)
    .pipe(imageop({
      optimizationLevel: 5,
      progressive: true,
      interlaced: true
    }))
    .pipe(gulp.dest('./dist/img'));
});
```

Esto hace que cada vez que ejecutemos la tarea `gulp images` lea todas las im치genes con extensi칩n `.jpg`, `.jpeg`, `.png` y `.gif` de la carpeta `src/images`, les pase el optimizador que nos da el plugin `gulp-image-optimization` y las deje comprimidas y listas para producci칩n en la carpeta `dist/img`.

## 쯏 < picture > ?

`<picture>` tambi칠n es una opci칩n que podemos utilizar, el problema es que con 칠ste elemento no tenemos en cuenta la resoluci칩n de pantalla, s칩lo el tama침o.

Esto significa que si queremos que en resoluci칩n _retina_ se vea bien, siempre tendremos que tener una imagen de gran tama침o, que en un dispositivo sin esa resoluci칩n, no apreciaremos y por tanto estaremos desperdiciando recursos.

Las im치genes anteriores en un elemento `<picture>` ser칤a as칤:

```html
<picture>
  <source media="(min-width: 1200px)" src="img-largeHD.jpg" />
  <source media="(min-width: 768px)" src="img-tabletHD.jpg" />
  <source src="img-mobileHD.jpg" />
</picture>
```

Dentro de los elementos `source` podemos tener un atributo `media` en el que podemos indicar a que tama침o de `viewport` cambien las im치genes.

Hablo de esto y mucho m치s en el [**Curso de Responsive Design** en Platzi](https://platzi.com/cursos/responsive-design/?utm_source=carlosazaustre&utm_medium=cta&utm_campaign=responsive-design) de 2015

Nos vemos all칤 :)
