---
title: "Vue: Single File Components"
date: "2018-10-10"
tags:
  - "游눹 Desarrollo"
---

Con Vue podemos crear componentes de m칰ltiples formas, la m치s sencilla es c칩mo vismo en un post anterior donde utilizamos el m칠todo `Vue.component()`.

Sin embargo esa forma, aunque es la m치s sencilla y pr치ctica, no es la m치s escalable, ya que nos obliga a escribir el HTML dentro del m칠todo `Vue.component()` o a utilizar m칰ltiples `<templates>` en el HTML.

<YouTube videoId="b0ozkpDiplU" />

Para solventar esto, existe una soluci칩n que junto con Webpack y un m칩dulo (`vue-loader`) nos permite tener en un 칰nico fichero la vista (template), el dise침o (css) y la l칩gica (javascript). Estos ficheros tienen una extensi칩n `.vue` y tienen la siguiente forma:

```html
<template>
  <!-- Marcado HTML -->
</template>

<script>
  /* C칩digo JavaScript */
</script>

<style>
  /* Estilos CSS */
</style>
```

Lo bueno de 칠ste fichero, es que al no ser un fichero final de producci칩n, es un fichero de desarrollo que luego Webpack interpreta y extrae las diferentes partes a sus ficheros correspondientes, nos da mucha versatilidad, por ejemplo:

Si preferimos utilizar Pug/Jade para el marcado en lugar de HTML convencional, podemos hacerlo porque Webpack leer치 el fichero y gracias a los "loaders" _transpilar치_ el c칩digo al resultado final.

De igual manera, si prefieres utilizar TypeScript o CoffeeScript para el c칩digo JavaScript, tambi칠n es posible, al igual que el estilo, puedes utilizar cualquier preprocesador que quieras: Less, Stylus, Sass, SCSS, PostCSS,...

Lo 칰nico que tienes que hacer es indicar en cada _tag_ que tipo est치s utilizando con el atributo `lang`. Por ejemplo:

```html
<template lang="pug"> ... </template>

<script lang="ts"></script>

<style lang="scss"></style>
```

Esto lo hace muy vers치til y pr치ctico para equipos de trabajo d칩nde haya personas dedicadas al dise침o y maquetaci칩n, y otras personas encargadas del c칩digo. De esta manera, la persona dedicada al CSS puede utilizar el preprocesador que prefiera, el desarrollador utilizar TypeScript si lo prefiere, etc...

Entonces para este ejemplo vamos a tomar el componente que hicimos en el anterior post, que ten칤a esta pinta:

```javascript
Vue.component("movie-card", {
  props: ["image", "title"],
  template: `
    <div>
      <img width="100" v-bind:src="image" v-bind:alt="title"/>
      <h2>{{ title }}</h2>  
    </div>
  `,
});
```

Y lo traducimos a un Vue Single File Component:

```html
<template>
  <div>
    <img width="100" v-bind:src="image" v-bind:alt="title" />
    <h2>{{ title }}</h2>
  </div>
</template>

<script>
  export default {
    name: "movie-card",
    props: {
      image: String,
      title: String,
    },
  };
</script>

<style scoped>
  h2 {
    font-size: 18pt;
  }
</style>
```

En la parte `<script>` utilizamos sint치xis de ES6, ya que con Webpack y Babel se realizar치 el _transpiling_ aunque el navegador ya empieza a implementar 칠stas novedades.

Exporta por defecto un objeto JavaScript que contiene varias propiedades. En este ejemplo le indicamos con `name` que el componente se llamar치 `<movie-card>` y con `props` las propiedades que podemos pasarle y el tipo que tienen 칠stas.

Por supuesto, un Vue Component tiene muchas m치s propiedades, c칩mo datos de estado internos, met칩dos, eventos, etc... pero para este ejemplo hemos utilizado un componente m치s sencillo.

Para el estilo tenemos algo muy interesante y es que si usamos el atributo `scoped` como he puesto en el ejemplo, lo que nos permite es aislar los estilos del resto de componentes y de la aplicaci칩n.

De esta manera no tenemos que preocuparnos de nombres de clases o de estilar elementos como el `<h2>` porque 칰nicamente se le dar치 el estilo al elemento `<h2>` de 칠ste componente, dejando el resto de elementos `<h2>` que pueda haber en el resto de aplicaci칩n con el estilo que tengan o el de por defecto.

M치s adelante veremos c칩mo integrar 칠sto con Webpack y con la herramienta de l칤nea de comandos de Vue.
